-- Generated by Oracle SQL Developer Data Modeler 4.0.2.840
--   at:        2018-02-13 11:30:04 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




DROP TABLE Access_Right CASCADE CONSTRAINTS ;

DROP TABLE Access_Right_P_Role CASCADE CONSTRAINTS ;

DROP TABLE Address CASCADE CONSTRAINTS ;

DROP TABLE Addresshistorie CASCADE CONSTRAINTS ;

DROP TABLE Bill CASCADE CONSTRAINTS ;

DROP TABLE Event CASCADE CONSTRAINTS ;

DROP TABLE Event_Info CASCADE CONSTRAINTS ;

DROP TABLE Event_Info_Type CASCADE CONSTRAINTS ;

DROP TABLE Event_Type CASCADE CONSTRAINTS ;

DROP TABLE Facility CASCADE CONSTRAINTS ;

DROP TABLE Invitation CASCADE CONSTRAINTS ;

DROP TABLE P_Data CASCADE CONSTRAINTS ;

DROP TABLE P_Datatype CASCADE CONSTRAINTS ;

DROP TABLE P_Role CASCADE CONSTRAINTS ;

DROP TABLE Person CASCADE CONSTRAINTS ;

DROP TABLE Person_Todo CASCADE CONSTRAINTS ;

DROP TABLE R_Type CASCADE CONSTRAINTS ;

DROP TABLE Receiver CASCADE CONSTRAINTS ;

DROP TABLE Relation CASCADE CONSTRAINTS ;

DROP TABLE Template CASCADE CONSTRAINTS ;

DROP TABLE Todo CASCADE CONSTRAINTS ;

CREATE TABLE Access_Right
  (
    ID           NUMBER NOT NULL ,
    Access_Right VARCHAR2 (500)
  ) ;
ALTER TABLE Access_Right ADD CONSTRAINT Access_Right_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Access_Right_P_Role
  (
    ID              NUMBER NOT NULL ,
    Access_Right_FK NUMBER NOT NULL ,
    P_Role_FK       NUMBER NOT NULL
  ) ;
ALTER TABLE Access_Right_P_Role ADD CONSTRAINT Access_Right_P_Role_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Address
  (
    ID             NUMBER NOT NULL ,
    Postalcode     NUMBER ,
    City           VARCHAR2 (500) ,
    Street_address VARCHAR2 (500) ,
    Door_number    NUMBER ,
    Creation_Date  DATE ,
    Country        VARCHAR2 (500)
  ) ;
ALTER TABLE Address ADD CONSTRAINT Address_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Addresshistorie
  (
    ID         NUMBER NOT NULL ,
    Person_FK  NUMBER NOT NULL ,
    Address_FK NUMBER NOT NULL
  ) ;
ALTER TABLE Addresshistorie ADD CONSTRAINT Addresshistorie_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Bill
  ( ID NUMBER NOT NULL , Template_FK NUMBER NOT NULL
  ) ;
ALTER TABLE Bill ADD CONSTRAINT Bill_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Event
  (
    ID            NUMBER NOT NULL ,
    Event_name    VARCHAR2 (500) ,
    Event_Type_FK NUMBER NOT NULL ,
    Address_FK    NUMBER NOT NULL ,
    Person_FK     NUMBER NOT NULL
  ) ;
ALTER TABLE Event ADD CONSTRAINT Event_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Event_Info
  (
    ID                 NUMBER NOT NULL ,
    Value              VARCHAR2(2000) ,
    Event_Info_FK      NUMBER NOT NULL ,
    Event_Info_Type_FK NUMBER NOT NULL
  ) ;
ALTER TABLE Event_Info ADD CONSTRAINT Event_Info_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Event_Info_Type
  ( ID NUMBER NOT NULL , Type VARCHAR2 (500)
  ) ;
ALTER TABLE Event_Info_Type ADD CONSTRAINT Event_Info_Type_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Event_Type
  (
	ID NUMBER NOT NULL,
    Type          VARCHAR2 (500) 
    
  ) ;
ALTER TABLE Event_Type ADD CONSTRAINT Event_Type_PK PRIMARY KEY ( Event_Type_ID ) ;

CREATE TABLE Facility
  ( ID NUMBER NOT NULL , Name VARCHAR2 (500)
  ) ;
ALTER TABLE Facility ADD CONSTRAINT Facility_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Invitation
  ( ID NUMBER NOT NULL , Template_FK NUMBER NOT NULL
  ) ;
ALTER TABLE Invitation ADD CONSTRAINT Invitation_PK PRIMARY KEY ( ID ) ;

CREATE TABLE P_Data
  (
    ID            NUMBER NOT NULL ,
    Value         VARCHAR2 (500) ,
    P_Datatype_FK NUMBER NOT NULL ,
    Person_FK     NUMBER NOT NULL
  ) ;
ALTER TABLE P_Data ADD CONSTRAINT P_Data_PK PRIMARY KEY ( ID ) ;

CREATE TABLE P_Datatype
  ( ID NUMBER NOT NULL , Type VARCHAR2 (500)
  ) ;
ALTER TABLE P_Datatype ADD CONSTRAINT P_Datatype_PK PRIMARY KEY ( ID ) ;

CREATE TABLE P_Role
  ( ID NUMBER NOT NULL , Role_Text VARCHAR2 (500)
  ) ;
ALTER TABLE P_Role ADD CONSTRAINT P_Role_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Person
  (
    ID          NUMBER NOT NULL ,
    P_Role_FK   NUMBER NOT NULL ,
    Relation_FK NUMBER
  ) ;
ALTER TABLE Person ADD CONSTRAINT Person_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Person_Todo
  (
    ID        NUMBER NOT NULL ,
    Person_FK NUMBER NOT NULL ,
    Todo_FK   NUMBER NOT NULL
  ) ;
ALTER TABLE Person_Todo ADD CONSTRAINT Person_Todo_PK PRIMARY KEY ( ID ) ;

CREATE TABLE R_Type
  ( ID NUMBER NOT NULL , Type VARCHAR2 (500)
  ) ;
ALTER TABLE R_Type ADD CONSTRAINT R_Type_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Receiver
  (
    ID          NUMBER NOT NULL ,
    Person_FK   NUMBER NOT NULL ,
    Template_FK NUMBER NOT NULL ,
    Facility_FK NUMBER NOT NULL
  ) ;
ALTER TABLE Receiver ADD CONSTRAINT Receiver_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Relation
  (
    ID         NUMBER NOT NULL ,
    Person_FK  NUMBER NOT NULL ,
    R_Type_FK  NUMBER NOT NULL ,
    Address_FK NUMBER NOT NULL
  ) ;
ALTER TABLE Relation ADD CONSTRAINT Relation_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Template
  (
    ID            NUMBER NOT NULL ,
    Ocassion_name VARCHAR2 (500) ,
    Person_FK     NUMBER NOT NULL
  ) ;
ALTER TABLE Template ADD CONSTRAINT Template_PK PRIMARY KEY ( ID ) ;

CREATE TABLE Todo
  (
    ID                NUMBER NOT NULL ,
    Done              NUMBER (1,0) NOT NULL ,
    Creation_DateTime DATE ,
    Text              VARCHAR2 (2000) ,
    Finished_DateTime DATE
  ) ;
ALTER TABLE Todo ADD CONSTRAINT Todo_PK PRIMARY KEY ( ID ) ;

ALTER TABLE Access_Right_P_Role ADD CONSTRAINT Access_Right_P_Role_FK FOREIGN KEY ( P_Role_FK ) REFERENCES P_Role ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Addresshistorie ADD CONSTRAINT Addresshistorie_Address_FK FOREIGN KEY ( Address_FK ) REFERENCES Address ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Addresshistorie ADD CONSTRAINT Addresshistorie_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Bill ADD CONSTRAINT Bill_Template_FK FOREIGN KEY ( Template_FK ) REFERENCES Template ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Event ADD CONSTRAINT Event_Address_FK FOREIGN KEY ( Address_FK ) REFERENCES Address ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Event ADD CONSTRAINT Event_Event_Type_FK FOREIGN KEY ( Event_Type_FK ) REFERENCES Event_Type ( Event_Type_ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Event_Info ADD CONSTRAINT Event_FK FOREIGN KEY ( Event_Info_FK ) REFERENCES Event ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Event_Info ADD CONSTRAINT Event_Info_Type_FK FOREIGN KEY ( Event_Info_Type_FK ) REFERENCES Event_Info_Type ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Event ADD CONSTRAINT Event_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Invitation ADD CONSTRAINT Invitation_Template_FK FOREIGN KEY ( Template_FK ) REFERENCES Template ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE P_Data ADD CONSTRAINT P_Data_P_Datatype_FK FOREIGN KEY ( P_Datatype_FK ) REFERENCES P_Datatype ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE P_Data ADD CONSTRAINT P_Data_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Access_Right_P_Role ADD CONSTRAINT P_Role_Acs_Right_FK FOREIGN KEY ( Access_Right_FK ) REFERENCES Access_Right ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Person ADD CONSTRAINT Person_P_Role_FK FOREIGN KEY ( P_Role_FK ) REFERENCES P_Role ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Person ADD CONSTRAINT Person_Relation_FK FOREIGN KEY ( Relation_FK ) REFERENCES Relation ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Person_Todo ADD CONSTRAINT Person_Todo_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Person_Todo ADD CONSTRAINT Person_Todo_Todo_FK FOREIGN KEY ( Todo_FK ) REFERENCES Todo ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Receiver ADD CONSTRAINT Receiver_Facility_FK FOREIGN KEY ( Facility_FK ) REFERENCES Facility ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Receiver ADD CONSTRAINT Receiver_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Receiver ADD CONSTRAINT Receiver_Template_FK FOREIGN KEY ( Template_FK ) REFERENCES Template ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Relation ADD CONSTRAINT Relation_Address_FK FOREIGN KEY ( Address_FK ) REFERENCES Address ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Relation ADD CONSTRAINT Relation_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Relation ADD CONSTRAINT Relation_R_Type_FK FOREIGN KEY ( R_Type_FK ) REFERENCES R_Type ( ID ) ON DELETE CASCADE ENABLE;

ALTER TABLE Template ADD CONSTRAINT Template_Person_FK FOREIGN KEY ( Person_FK ) REFERENCES Person ( ID ) ON DELETE CASCADE ENABLE;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            21
-- CREATE INDEX                             0
-- ALTER TABLE                             45
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
